[00:03:10]  <@mutz>	So, thats to everyone who's joined us today. We'll be going through some motions and getting some heavy customization of Kali isos done.
[00:03:12]  <p0werc1ick>	here? no voice?
[00:03:16]  <@mutz>	*thanks*
[00:03:20] 	nzu (~Thunderbi@91.195.44.252) left IRC (Quit: nzu)
[00:03:25] 	p0int3r (~OS-17838@39.32.77.51) joined the channel
[00:03:27]  <@mutz>	expect some typos, as i type furiously :)
[00:03:28] tillo	claps
[00:03:32] 	srikr5n (~SriKrsna@115.241.112.250) joined the channel
[00:03:56]  <Mr0x58>	uh, it would be good to mute the channel and give voice only to select people?
[00:04:05]  <@mutz>	also, feel free to ask questions as we go along, the purpose of these demos and dojos is to spread the word about kali and its features.
[00:04:06]  <OS-3341>	Hello
[00:04:11]  <Mr0x58>	oh okay
[00:04:11] 	guly_ (~why@shivaya.guly.org) left the channel
[00:04:12] 	Demarsac (2ef6eeda@gateway/web/freenode/ip.46.246.238.218) joined the channel
[00:04:17]  <@mutz>	Mr0x58 , only if we will need to, i prefer not to by default.
[00:04:26] 	OS-3341 (~OS-3341@port-212-202-236-146.static.qsc.de) left the channel
[00:04:33] 	luc__ (~luc@216.151.184.66) joined the channel
[00:04:34] 	OS-3341 (~OS-3341@port-212-202-236-146.static.qsc.de) joined the channel
[00:04:35]  <OS-20611>	is kali in reference to the Hindu goddess?
[00:04:40]  <AceKapila>	how to join ?
[00:04:53] 	guly (~why@unaffiliated/guly) joined the channel
[00:04:54]  <@harbinger18>	AceKapila, just be here in chat :)
[00:04:54] 	axonmaven (~axonmaven@138.75.164.244) joined the channel
[00:04:56]  <Mightypro>	AceKapila, you have already joined. It is on IRC!
[00:04:57]  <|3mrgnc3|>	you are here
[00:04:57] 	l1p4 (~root@83.142.198.116) joined the channel
[00:05:03] 	hackerbyhobby (~hackerbyh@wsip-70-166-109-108.ph.ph.cox.net) joined the channel
[00:05:04]  <AceKapila>	ahh ok
[00:05:10]  <AceKapila>	sry
[00:05:18]  <@mutz>	So, one of the cool features in Kali is the ability to generate custom isos, using live-build, a set of scripts that are also used to create the semi official Debian live isos.
[00:05:26]  <p0int3r>	Hello every one :)
[00:05:37]  <|3mrgnc3|>	I am 12 and what is this :D
[00:05:42] 	OS-19857 (~OS-19857@148.240.103.227) joined the channel
[00:06:01]  <@mutz>	its also what we use to generate our official ISOs in the Kali project, which allows us to have both an installer and a live boot option in one ISO...
[00:06:08]  <fl3xu5>	|3mrgnc3| : kindly read the topic :)
[00:06:16] 	SirPotato (~herp@unaffiliated/sirpotato) left IRC (Ping timeout: 268 seconds)
[00:06:48] 	OS-15491 (~OS-15491@132.147.118.99) joined the channel
[00:06:49]  <@mutz>	If you haven't already, make sure your kali machines is updated, and git clone the kali live-build config:
[00:06:56] 	OS-17872 (~OS-17872@pool-71-191-174-109.washdc.fios.verizon.net) joined the channel
[00:06:58]  <@mutz>	git clone git://git.kali.org/live-build-config.git
[00:07:07]  <ins1der>	hi
[00:07:22]  <ins1der>	it s a long time far from here...
[00:07:25] 	Condor8 (~Condor11@adsl-222-210-fixip.datacomm.ch) joined the channel
[00:07:26]  <@mutz>	then:
[00:07:27]  <@mutz>	cd live-build-config
[00:07:49] 	bungfish (~bungfish@ip68-13-80-231.om.om.cox.net) joined the channel
[00:07:54]  <@mutz>	before we begin building and customizing our ISO, a few explanations about live-build and how it works...
[00:08:10] 	hmendonca (~chatzilla@CMPC-084-205-000-092.CNet.Gawex.PL) left IRC (Quit: ChatZilla 0.9.92 [Firefox 38.7.1/20160315145633])
[00:08:16] 	OS-19146_ (~OS-19146_@185.30.132.17) left IRC (Remote host closed the connection)
[00:08:29]  <@mutz>	You can check http://offsec.me/post/kali-rolling-live-build/ for a summary, as i describe the various directories and structures
[00:08:56] 	luc3 (~OS-20484@75-115-109-61.res.bhn.net) joined the channel
[00:09:17]  <@mutz>	One of the few known facts about Kali is that our default live-build config supports a whole bunch of different desktop environments....Gnome, KDE, LXDE, e17, etc..
[00:09:18] 	OS-15393 (~OS-15393@wsip-70-166-109-108.ph.ph.cox.net) joined the channel
[00:09:41]  <@mutz>	and these default images can be built quite easily, as the templates for them already exist.
[00:09:48] 	mthor (18145b2b@gateway/web/freenode/ip.24.20.91.43) left IRC (Quit: Page closed)
[00:09:54]  <@mutz>	if you :
[00:09:55]  <@mutz>	ls -l kali-config/
[00:10:04]  <@mutz>	you'll see the existing profiles.
[00:10:10] 	MechanicalPirate (~Mechanica@unaffiliated/mechanicalpirate) joined the channel
[00:10:19] 	mthor (18145b2b@gateway/web/freenode/ip.24.20.91.43) joined the channel
[00:10:34] 	nahmean (ade23806@gateway/web/freenode/ip.173.226.56.6) joined the channel
[00:10:40]  <fl3xu5>	Cloning into 'live-build-config'...warning: expected SRV RR, found RR type 1 , is it ok with that warning to continue to next step ?
[00:10:51] 	ni291187 (~u931732@162.220.220.133) joined the channel
[00:10:54]  <@mutz>	notice also the "light" profile ... this is the profile we use to build our "light" kali isos.
[00:11:07] 	roguesys (~roguesys@comint.hackd.net) joined the channel
[00:11:11] 	xxbaemaxx (~sayed-ham@155.69.160.32) joined the channel
[00:11:40] 	xxFil (~xxFil@unaffiliated/xxfil) joined the channel
[00:11:40]  <@mutz>	can y'all see those directories? give me a virtual nod if you can.
[00:11:41]  <Leary>	mutz: does "light" support VNC?
[00:11:46] 	KozaK (~OS-20614@173.240.201.108) left IRC (Ping timeout: 244 seconds)
[00:11:46]  <ben_p>	yes
[00:11:48]  <OS-10348>	My exam status: 1 down 4 to go! 5 hours elapsed
[00:11:50] stewpidh1ck	nod
[00:11:52]  <OS-15404>	yep
[00:11:52]  <ben_p>	mutz: yes, I can
[00:11:54]  <just_steve>	yes
[00:11:57]  <|3mrgnc3|>	yep :P
[00:11:58]  <cyberkryption>	nods
[00:12:00]  <@mutz>	nice.
[00:12:01]  <Leary>	nod
[00:12:01]  <carbonated>	crushing it, OS-10348!! Keep it up
[00:12:09]  <OS-15393>	yea! nice!
[00:12:10]  <Swappage>	y
[00:12:10]  <HarveyVega>	yes
[00:12:11]  <Bruk0ut>	mutz: seen here
[00:12:25] 	OS-15317 (~OS-15317@75-168-152-206.mpls.qwest.net) left IRC (Ping timeout: 240 seconds)
[00:12:27]  <@mutz>	now, check the "common" directory...
[00:12:28]  <@mutz>	ls -l kali-config/common/
[00:12:30] 	StarFire_ (6ac2329e@gateway/web/freenode/ip.106.194.50.158) joined the channel
[00:12:32]  <tillo>	mutz: yep, but I have the first question. The light variant does not have "kali-linux", while it's flagged as "You always want those" in the other variants. What's missing without it?
[00:12:32] 	warriar (~warrior@dslb-084-058-094-032.084.058.pools.vodafone-ip.de) joined the channel
[00:12:33]  <|3mrgnc3|>	go go OS-10348 !
[00:12:36]  <klimt>	guys stop please for muts to do the kali dojo
[00:12:37]  <fl3xu5>	here is mine : http://paste.offsec.com/?0acc2e6e96538391#RuDXPE7qavJ/joJ3taORgG2Pd4R9Qyqisbveoxy3SuM=
[00:12:43]  <@mutz>	that's where most of the interesting configuration takes place.
[00:12:56] 	OS-15317 (~OS-15317@75-168-152-206.mpls.qwest.net) joined the channel
[00:13:04]  <@mutz>	if you quickly : ls -l kali-config/common/
[00:13:06] 	OS-19809 (~OS-19809@ip-109-43-2-215.web.vodafone.de) left IRC (Quit: Leaving)
[00:13:26]  <@mutz>	you'll see more directories: hooks, includes.*, preseed, etc.
[00:13:29] 	jakestaby (~staby@unaffiliated/staby) joined the channel
[00:13:36] 	xxfil_ (3694c24f@gateway/web/freenode/ip.54.148.194.79) joined the channel
[00:13:40]  <@mutz>	now lets try to make some sense of all of them.
[00:14:06]  <@mutz>	On http://offsec.me/post/kali-rolling-live-build/, there's a short description of some of these directories
[00:14:14]  <fl3xu5>	ok
[00:14:17]  <@mutz>	eg, kali-config/config/package-lists
[00:14:21] 	tedher (~tedi@125.161.154.50) joined the channel
[00:14:23] 	mthorz (~root@2601:1c2:4300:9634:25d8:3178:c900:56fb) joined the channel
[00:14:29] 	xxFil__ (~xxFil@unaffiliated/xxfil) joined the channel
[00:14:34] 	xxFil__ (~xxFil@unaffiliated/xxfil) left IRC (Remote host closed the connection)
[00:14:42] 	TheEagerPadawan (~TheEagerP@2a02:1811:b213:a000:c53d:db8c:6638:75ad) left IRC (Ping timeout: 246 seconds)
[00:14:48] 	j3551c4 (~lipa@83.142.198.116) joined the channel
[00:15:02] 	OS-3341 (~OS-3341@port-212-202-236-146.static.qsc.de) left IRC (Quit: Leaving)
[00:15:04] 	xxFil__ (~xxFil@unaffiliated/xxfil) joined the channel
[00:15:06] 	SecAddict (~SecAddict@unaffiliated/al3xg/x-3906219) joined the channel
[00:15:13]  <@mutz>	package-lists is interestign as it contains all the packages we want to have installed in our ISO.
[00:15:18] 	gotroot (041f7a82@gateway/web/freenode/ip.4.31.122.130) left IRC (Quit: Page closed)
[00:15:26] 	axonmaven (~axonmaven@138.75.164.244) left the channel
[00:15:34]  <@mutz>	so, for example, if you want to see all the packages installed in Kali, you can simply:
[00:15:44]  <@mutz>	cat kali-config/variant-default/package-lists/kali.list.chroot
[00:15:47] 	mthor (18145b2b@gateway/web/freenode/ip.24.20.91.43) left IRC (Quit: Page closed)
[00:15:50] 	xxFil__ (~xxFil@unaffiliated/xxfil) left IRC (Client Quit)
[00:15:58] 	xxFil (~xxFil@unaffiliated/xxfil) left IRC (Ping timeout: 248 seconds)
[00:15:59]  <MrZeeMan>	7
[00:16:08] 	axonmaven (~axonmaven@138.75.164.244) joined the channel
[00:16:11] 	xxbaemaxx (~sayed-ham@155.69.160.32) left IRC (Read error: Connection reset by peer)
[00:16:29]  <@mutz>	currently, what you're seeing in that file..is not real packages...but "metapackages".
[00:16:41]  <@mutz>	so, the default Kali iso has:
[00:16:54]  <@mutz>	kali-linux, kali-desktop-live, kali-desktop-gnome
[00:17:00] 	hx47 (~hx47@46.246.48.123) joined the channel
[00:17:07] 	gotroot (~gotroot@149.255.33.155) joined the channel
[00:17:10]  <@mutz>	and in turn, each of these has more packages defined under it.
[00:17:13] 	pwndls (~pwndls@unaffiliated/pwndls) left IRC (Quit: Leaving)
[00:17:16] 	jedeinhart (uid152191@gateway/web/irccloud.com/x-gclehriqqbowfnel) joined the channel
[00:17:16]  <@mutz>	Check https://www.kali.org/news/kali-linux-metapackages/ for more info about metapackages...
[00:17:21] 	axonmaven (~axonmaven@138.75.164.244) left IRC (Quit: Leaving)
[00:17:27] 	Pr0PeL (~Pr0PeL@162.216.46.133) joined the channel
[00:17:36]  <ben_p>	it also has kali-linux-full
[00:17:44] 	TheEagerPadawan (~TheEagerP@2a02:1811:b213:a000:c53d:db8c:6638:75ad) joined the channel
[00:17:48]  <@mutz>	ben_p , yes, correct!
[00:17:57]  <@mutz>	Leary, earlier on you asked if "light" supports VNC...now you can check for yourself.
[00:18:07]  <ben_p>	which I've got $$ that says it's a meta of the metapackages
[00:18:08] 	Axon (~axonmaven@138.75.164.244) joined the channel
[00:18:18] 	LoneHermit (~lonehermi@199.231.245.197) joined the channel
[00:18:21]  <ins1der>	there isn't a kali-desktop-xfce?
[00:18:33]  <@mutz>	ben_p , to see the list of package in kali-linux-full:
[00:18:34]  <ben_p>	ins1der: I saw one earlier
[00:18:37] 	xxbaemaxx (~sayed-ham@155.69.160.32) joined the channel
[00:18:46]  <cyberkryption>	it will be in xfce variant?
[00:18:54]  <@mutz>	apt-cache show kali-linux-full | grep Depends
[00:19:01]  <jedeinhart>	sorry I am late. Are the irc logs posted somewhere of what was done till now?
[00:19:15]  <HK2>	nick!HK2@host
[00:19:18]  <@mutz>	jedeinhart , check http://offsec.me/ for now.
[00:19:20] 	Axon (~axonmaven@138.75.164.244) left IRC (Client Quit)
[00:19:34]  <@mutz>	ok, next important fact about live-build...
[00:19:36] 	OS-18642 (~textual@92.99.50.16) joined the channel
[00:19:48]  <xxbaemaxx>	suppp
[00:19:53] 	SirPotato (~herp@2605:6000:f2c0:e400:58fc:559d:8cd5:2773) joined the channel
[00:20:04]  <@mutz>	the ISO build stage is separated into various "segments", where the main ones are called:
[00:20:09]  <fl3xu5>	so many Depends results when invoke this : apt-cache show kali-linux-full | grep Depends
[00:20:10]  <@mutz>	bootstrap, chroot, binary.
[00:20:11] 	AxonDystopia (~axonmaven@138.75.164.244) joined the channel
[00:20:23]  <OS-19740>	!support
[00:20:23]  <@Offsec-Ninja>	OS-19740: support is (#1) Please note that we do not offer support via IRC anymore. In order to get live support, please visit https://support.offensive-security.com, or (#2) See !hours.
[00:20:28]  <@mutz>	the 2 important ones to remember are chroot, and binary.
[00:20:40]  <@mutz>	"chroot" includes the process of building the ISO chroot, all the tools, etc.
[00:21:00]  <@mutz>	"binary" includes the process of building the binary ISO, bootmenus, isolinux, etc.
[00:21:11]  <ben_p>	OK, so I was wrong. I falsly assumed that kali-linux-full would be a meta rollup of all of the other subsets but it appears as though it actually has the packages
[00:21:26]  <@mutz>	ben_p , correct.
[00:21:28] 	crazyuser (~androirc@190.180.109.118) left IRC (Ping timeout: 264 seconds)
[00:21:31]  <@mutz>	ok!
[00:21:41] 	matrixmage (~macgyver@97-124-191-203.hlrn.qwest.net) left IRC (Ping timeout: 268 seconds)
[00:21:55]  <@mutz>	now, last thing i would like to tell you about before we dig in, is about our wrapper around live-build - build.sh
[00:22:14]  <@mutz>	its takes several arguments, as shown at the bottom of http://offsec.me/post/kali-rolling-live-build/
[00:22:57]  <@mutz>	so, quiz time: if i wanted to build a 64 bit iso of a barebones Kali iso with MATE as the DE... what would the syntax be ?
[00:23:26]  <jedeinhart>	put mate-desktop in the packages.list file
[00:23:42] 	moonoi (~MooNoi@unaffiliated/moonoi) left IRC (Ping timeout: 244 seconds)
[00:23:42]  <l3g3ndary>	./build.sh --distribution kali-rolling --variant mate --arch amd64 --verbose
[00:23:44] 	matrixmage (~macgyver@97.124.191.203) joined the channel
[00:23:44]  <krav>	./build.sh --distribution kali-rolling --variant mate --arch amd64 --verbose
[00:23:47]  <krav>	haha
[00:23:49] 	niakoi (~niakoi@95.87.238.122) left IRC (Quit: leaving)
[00:23:50]  <|3mrgnc3|>	./build.sh --distribution kali-rolling --variant kde --arch amd64 --verbose
[00:23:57]  <cyberkryption>	yep
[00:23:59]  <krav>	|3mrgnc3|: upi
[00:24:04]  <|3mrgnc3|>	./build.sh --distribution kali-rolling --variant mate --arch amd64 --verbose
[00:24:06]  <|3mrgnc3|>	lol
[00:24:09] 	LoneHermit (~lonehermi@199.231.245.197) left IRC (Ping timeout: 268 seconds)
[00:24:10]  <krav>	there you go
[00:24:14]  <@mutz>	nice.
[00:24:20]  <fl3xu5>	./build.sh --distribution kali-rolling --variant kde --arch amd64 --verbose
[00:24:22]  <fl3xu5>	next :D
[00:24:28]  <krav>	fl3xu5: nope.
[00:24:32]  <krav>	:P
[00:24:33]  <@mutz>	Also, if you dont mention --arch, the arch is taken from the running OS.
[00:24:45]  <|3mrgnc3|>	good to know
[00:24:51]  <cyberkryption>	mutz: what if we want to add a package not currently in kali?
[00:25:00]  <@mutz>	cyberkryption , wait for it.
[00:25:02]  <@mutz>	what this means is that if you are on a 64 bit machine, you can build 64 bit and 32 bit
[00:25:07] 	ni291187 (~u931732@162.220.220.133) left IRC (Remote host closed the connection)
[00:25:09]  <cyberkryption>	mutz: sorry.....:(
[00:25:12] 	sheid (~sheid@213.143.48.83) joined the channel
[00:25:12]  <@mutz>	if you are on a 32 bit machine, you can *only* build 32 bit.
[00:25:19]  <cyberkryption>	yes
[00:25:21]  <|3mrgnc3|>	stands to reason
[00:25:38]  <@mutz>	so, this is the basic of basics regarding live-build, enough for us to start digging in.
[00:26:01]  <@mutz>	A couple of days back, someone asked in #offsec why this whole customisation is needed, and what it's good for.
[00:26:06] 	xxbaemaxx (~sayed-ham@155.69.160.32) left IRC (Read error: Connection reset by peer)
[00:26:31]  <@mutz>	One example for why we use it @ offsec, is for remote or internal engagements.
[00:26:45]  <cyberkryption>	rolling lightweight with favourite tools for eg forensics or penetesting
[00:27:09]  <krav>	cyberkryption: pretty much exactly what we use it for. We've got a custom build for our engagements as well.
[00:27:11]  <@mutz>	So, we would build a Kali iso, with all the tools we need preinstalled, have it install automatically (unattended installation), and connect back to us directly once it's booted.
[00:27:18] 	SecAddict (~SecAddict@unaffiliated/al3xg/x-3906219) left IRC (Read error: Connection reset by peer)
[00:27:27]  <unfo->	mutz, that's pretty sweet
[00:27:34]  <@mutz>	So in essence, the client would just download the iso, boot a vm with it, and not need to press a single button from there on.
[00:27:35]  <cyberkryption>	if you have to supply an iso to build for conducting internal pentests on customer environment?
[00:27:46]  <@mutz>	cyberkryption , yeps and yeps!
[00:27:56] 	SecAddict (~SecAddict@unaffiliated/al3xg/x-3906219) joined the channel
[00:28:04]  <@mutz>	we've done something similar in "the kali iso of doom"
[00:28:12]  <@mutz>	and also in the "kali evil access point"
[00:28:22]  <fl3xu5>	yes
[00:28:28]  <@mutz>	so these are just a couple of examples of "what it's good for".
[00:28:45]  <Swappage>	internal engagements automation is awesome
[00:28:57]  <cyberkryption>	built one with evil access point that auto backdoored exes to show risks
[00:29:00] Swappage	likes that usage
[00:29:15]  <@mutz>	So now, lets get busy. Check http://offsec.me/post/custom-kali-iso-multiple-changes for reference
[00:29:25] 	OS-19175 (451b868b@gateway/web/cgi-irc/kiwiirc.com/ip.69.27.134.139) left IRC (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[00:29:54]  <@mutz>	(btw, for those who are missing the audio cues, you can refresh https://www.kali.org/excellent.mp3 every so often)
[00:30:12]  <Bruk0ut>	lol
[00:30:19]  <root-boy>	hehehe
[00:30:30]  <@mutz>	So in this instance, we will be building a minimal kali iso, with nmap, metasploit, openssh, apache2 and Nessus.
[00:30:31]  <cyberkryption>	so you have to build a .deb package to add it to kali if one does not exist right ? And then add it List?
[00:30:34]  <fl3xu5>	what about 4444 muts haha :D
[00:30:43]  <@mutz>	cyberkryption , wait for it :)
[00:30:45]  <OS7943>	ha
[00:30:47]  <Bruk0ut>	i prefer "wonderfull.mp3"
[00:31:01]  <@mutz>	while nmap, metasploit, openssh, apache2 are all in the Kali repos, Nessus is not.
[00:31:09] 	undefinederror (~user@a83-162-29-175.adsl.xs4all.nl) left IRC (Ping timeout: 246 seconds)
[00:31:12]  <Kr0n1kK1ll3r>	I was thinking of Bill and Ted's Excellent
[00:31:17] 	OS-18779 (~Nick@178.128.226.86.dsl.dyn.forthnet.gr) joined the channel
[00:31:40]  <@mutz>	so we will be adding Nessus manually, via live-build (to answer your q cyberkryption)
[00:31:58]  <@mutz>	we'll want a couple more modifications to this iso:
[00:32:15]  <@mutz>	1) We want SSH to start at boot time, in both live and installed instances.
[00:32:33]  <@mutz>	2) We want to add our SSH public key to the ISO
[00:32:59]  <@mutz>	3) We want to add a unattended installation option so that the iso will self install with no user interaction.
[00:33:07] 	p0int3r (~OS-17838@39.32.77.51) left IRC (Ping timeout: 260 seconds)
[00:33:27]  <@mutz>	4) for the sake of demonstration, we'll also want Apache to run, only *after* installation.
[00:33:42]  <spuerman>	openvpn?
[00:33:49]  <@mutz>	The objectives are clear ? any questions upto this point ?
[00:33:53]  <cyberkryption>	nope
[00:34:02]  <supertweak>	good
[00:34:02]  <krav>	nope.
[00:34:03]  <fl3xu5>	I like the point of 3) :)
[00:34:03]  <OS-18779>	!support
[00:34:03]  <@Offsec-Ninja>	OS-18779: support is (#1) Please note that we do not offer support via IRC anymore. In order to get live support, please visit https://support.offensive-security.com, or (#2) See !hours.
[00:34:03]  <|3mrgnc3|>	good to go
[00:34:05]  <ben_p>	mutz: clear
[00:34:11]  <tillo>	Everything is clear, thanks.
[00:34:12]  <Swappage>	go!
[00:34:13] stewpidh1ck	nod
[00:34:15]  <fl3xu5>	it's very clear, muts
[00:34:15]  <@mutz>	spuerman , we can install whatever we like, openvpn is also an option, as discussed in the "kali iso of doom" posts.
[00:34:28] 	OS-17760 (~OS-17760@c-76-100-8-82.hsd1.va.comcast.net) left IRC (Quit: Leaving)
[00:34:31] 	atlantis (~atlantis@c-66-235-6-24.sea.wa.customer.broadstripe.net) left IRC (Read error: Connection reset by peer)
[00:34:41]  <@mutz>	so, once we've cloned the live-build repo:
[00:34:50]  <@mutz>	git clone git://git.kali.org/live-build-config.git; cd live-build-config
[00:34:57] 	OS-17760 (~OS-17760@c-76-100-8-82.hsd1.va.comcast.net) joined the channel
[00:34:59]  <AceKapila>	we can have custom build scripts as well ?
[00:34:59]  <ins1der>	nope
[00:35:16]  <@mutz>	we go ahead and clobber the kali.list.chroot file with the list of packages we want included:
[00:35:28]  <@mutz>	in this case (excuse the flood):
[00:35:35]  <@mutz>	echo cryptsetup > kali-config/variant-default/package-lists/kali.list.chroot
[00:35:35]  <@mutz>	echo gparted >> kali-config/variant-default/package-lists/kali.list.chroot
[00:35:36]  <@mutz>	echo openssh-server >> kali-config/variant-default/package-lists/kali.list.chroot
[00:35:37]  <@mutz>	echo apache2 >> kali-config/variant-default/package-lists/kali.list.chroot
[00:35:38]  <@mutz>	echo nmap >> kali-config/variant-default/package-lists/kali.list.chroot
[00:35:39]  <@mutz>	echo metasploit-framework >> kali-config/variant-default/package-lists/kali.list.chroot
[00:36:08]  <tillo>	Any reason why we wouldn't create a new variant?
[00:36:19] 	SecAddict (~SecAddict@unaffiliated/al3xg/x-3906219) left IRC (Ping timeout: 250 seconds)
[00:36:27]  <@mutz>	tillo , you could totally create a new variant, and call it : kali-tillo
[00:36:38]  <@mutz>	and then just invoke build.sh with --variant kali-tillo
[00:37:01]  <cyberkryption>	you would also have areference to check against in case of problems
[00:37:20] 	OS-16627 (~anonymous@c-76-21-12-37.hsd1.ca.comcast.net) joined the channel
[00:37:28]  <@mutz>	tillo , in fact, that would probably a better way to do it! It would leave the default image in tact. Good call.
[00:37:53] 	p0int3r (~OS-17838@39.32.77.51) joined the channel
[00:37:54]  <@mutz>	Now comes an interesting part..."hooks"
[00:38:11]  <@mutz>	remember how we have the "chroot" and "binary" phases of a ISO build ?
[00:38:17] 	SecAddict (~SecAddict@unaffiliated/al3xg/x-3906219) joined the channel
[00:38:26]  <@mutz>	this definition comes to play now, pay attention:
[00:38:27]  <stewpidh1ck>	We have hooks all over downtown Atlanta. Just about every corner
[00:38:36] 	OS-14927 (~OS-14927@104-1-117-251.lightspeed.rcsntx.sbcglobal.net) left IRC (Quit: Colloquy for iPhone - http://colloquy.mobi)
[00:38:42] 	vlt_ (d96cd7f7@gateway/web/freenode/ip.217.108.215.247) left IRC (Ping timeout: 250 seconds)
[00:38:44] 	OS-16627 (~anonymous@c-76-21-12-37.hsd1.ca.comcast.net) left IRC (Client Quit)
[00:38:45]  <@mutz>	stewpidh1ck, not those hooks!
[00:38:54]  <stewpidh1ck>	:)
[00:38:59]  <OS-20611>	rofl
[00:39:03] 	Amaan (uid4967@gateway/web/irccloud.com/x-ladhaztutbnrxkdm) joined the channel
[00:39:08] 	StarFire_ (6ac2329e@gateway/web/freenode/ip.106.194.50.158) left IRC (Ping timeout: 250 seconds)
[00:39:11]  <@mutz>	So, a hook is a bash script, which you can run during various phases of the iso build. Either when the chroot is building, or when the binary is building...
[00:39:11]  <Bruk0ut>	muts, the first line in your last paste has only one '>'
[00:39:20]  <Bruk0ut>	which would overwrite the file, is that expected?
[00:39:28] 	OS-14927 (~OS-14927@104-1-117-251.lightspeed.rcsntx.sbcglobal.net) joined the channel
[00:39:40] 	tokotoko (~tokotoko@58.182.129.74) joined the channel
[00:39:44]  <@mutz>	Bruk0ut , correct, i am clobbering the existing package, meaning our ISO wont have a desktop environment at all. Minimal iso.
[00:39:52]  <Bruk0ut>	ah ok, thx
[00:39:55] 	OS-16783 (~hland4@53.79-161-61.customer.lyse.net) joined the channel
[00:40:13]  <klimt>	good catch
[00:40:39] 	Pr0PeL (~Pr0PeL@162.216.46.133) left IRC (Quit: Leaving)
[00:40:40]  <cyberkryption>	good to clarify
[00:40:54]  <@mutz>	if we want to enable SSH at boot time, it means we need to implement a hook that will tell SSH to start at boot, and this is done only once the ISO "chroot" is in place.
[00:41:02] 	rb4sh (~rb4sh@host15-92-dynamic.3-87-r.retail.telecomitalia.it) joined the channel
[00:41:08] 	marginal (~cstover@24-223-105-130.static.cablene.com) left IRC (Read error: Connection reset by peer)
[00:41:09]  <@mutz>	the hooks directory is located at kali-config/common/hooks/live/
[00:41:15] 	pwk007 (~jpwilkes@37.157.39.74) joined the channel
[00:41:25] 	OS-20971 (~OS-20971@84.241.249.23) left IRC (Remote host closed the connection)
[00:41:26]  <@mutz>	its an interesting directory to look at, as you get to see some of the inner makings of the Kali iso
[00:41:32] 	OS-19262 (~OS-19262@2620:149:6:1004:20c:29ff:fe8d:1c57) joined the channel
[00:41:47]  <@mutz>	eg, you get to see some "kali-hacks",
[00:42:00] 	flyingtriangle (~flyingtri@174-29-11-120.hlrn.qwest.net) joined the channel
[00:42:09]  <@mutz>	and also notice that some of these hooks have a .chroot or binary extension.
[00:42:19] 	blablabla (446471d2@gateway/web/cgi-irc/kiwiirc.com/ip.68.100.113.210) left IRC (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[00:42:20]  <@mutz>	take a minute to peek at them.
[00:42:22]  <fl3xu5>	kali-hacks.chroot
[00:42:24] 	a40ntistos (4e577f72@gateway/web/freenode/ip.78.87.127.114) left IRC (Quit: Page closed)
[00:42:28] 	zub1n (~zub1n@unaffiliated/zub1n) left IRC (Quit: Leaving)
[00:42:41]  <Swappage>	they are basically bash scripts right?
[00:42:47]  <@mutz>	yes
[00:42:53] 	zub1n (~zub1n@1.23.5.158) joined the channel
[00:42:53] 	zub1n (~zub1n@1.23.5.158) left IRC (Changing host)
[00:42:53] 	zub1n (~zub1n@unaffiliated/zub1n) joined the channel
[00:42:56] 	SecAddict (~SecAddict@unaffiliated/al3xg/x-3906219) left IRC (Client Quit)
[00:43:19]  <@mutz>	so, lets drop a SSH kali hook:
[00:43:26]  <@mutz>	cat << EOF > kali-config/common/hooks/live/kali-ssh.chroot
[00:43:27]  <@mutz>	#!/bin/sh
[00:43:28]  <@mutz>	systemctl enable ssh || true
[00:43:29]  <@mutz>	EOF
[00:43:30]  <@mutz>	and then make the file executable:
[00:43:33]  <@mutz>	chmod +x kali-config/common/hooks/live/kali-ssh.chroot
[00:43:48] 	OS-15491 (~OS-15491@132.147.118.99) left IRC (Quit: Leaving)
[00:43:54]  <@mutz>	and when the iso builds, that script will run in the "chroot" phase.
[00:43:56] 	marginal (~cstover@74.39.197.227) joined the channel
[00:44:35]  <@mutz>	next, lets overlay some files. Our second requirement was to include our SSH public key...which should go to /root/.ssh/authorized_keys
[00:44:39] 	OS-19304 (~root@72.Red-2-136-169.dynamicIP.rima-tde.net) joined the channel
[00:44:45]  <ins1der>	we have to add a key
[00:44:47]  <ins1der>	ops
[00:44:52] 	dogetron (~root@c-50-186-81-194.hsd1.ut.comcast.net) joined the channel
[00:44:53]  <ins1der>	:D
[00:44:53] 	jakestaby (~staby@unaffiliated/staby) left IRC (Remote host closed the connection)
[00:45:13]  <@mutz>	(this is also a good opportunity to see what files are overlaid in kali)
[00:45:21] 	rh0gue (~conceptof@c-73-170-88-68.hsd1.ca.comcast.net) joined the channel
[00:45:21] 	jakestaby (~staby@unaffiliated/staby) joined the channel
[00:45:31]  <@mutz>	if the directory we need is not there, we make it:
[00:45:32]  <@mutz>	mkdir -p kali-config/common/includes.chroot/root/.ssh/
[00:45:41]  <@mutz>	and then we plave our file in the needed location:
[00:45:44]  <@mutz>	*place*
[00:45:53] 	adelmo (~adel@109.175.53.176) joined the channel
[00:46:04]  <@mutz>	echo "my public ssh key" > kali-config/common/includes.chroot/root/.ssh/authorized_keys
[00:46:26]  <@mutz>	we can also use this as a crude method to clobber the existing wallpaper, etc.
[00:46:29] 	OS-14495 (~OS-14495@S0106602ad095187d.vc.shawcable.net) joined the channel
[00:46:36]  <@mutz>	so far so good ?
[00:46:42] 	datamoshr (~john@unaffiliated/datamoshr) joined the channel
[00:46:43]  <MrZeeMan>	yep
[00:46:44]  <jotamjr>	10-4
[00:46:47]  <ben_p>	mutz: good
[00:46:49]  <cyberkryption>	yes
[00:46:49] stewpidh1ck	nod
[00:46:49] 	tokotoko_ (~tokotoko@58.182.129.74) joined the channel
[00:46:56] supertweak	nod
[00:46:58]  <krav>	sounds reasonable, we're doing the same thing in a preseed, but this sounds more efficient.
[00:46:58] 	flexd (~flexd@178.62.255.104) joined the channel
[00:47:03]  <Swappage>	y
[00:47:07]  <@mutz>	kali.org/excellent.mp3
[00:47:13]  <Swappage>	:D
[00:47:15]  <jotamjr>	lol
[00:47:17]  <@mutz>	now, lets look at a "binary" file overlay.
[00:47:46]  <Bruk0ut>	yea
[00:47:54]  <@mutz>	the concept is similar to a chroot file overlay...except that it happens in the "binary" stage....ie, the part where the chroot is already squashfs'ed and the bootloader is bering configured.
[00:47:57] 	Illusional (~Illusiona@unaffiliated/illusional) joined the channel
[00:48:03]  <@mutz>	*being*
[00:48:15]  <@mutz>	we create the file kali-config/common/includes.binary/isolinux/install.cfg
[00:48:16]  <|3mrgnc3|>	i.e.. cat /root/.ssh/id_rsa.pub...etcetera..
[00:48:35] 	antoszka (~antoszka@unaffiliated/antoszka) joined the channel
[00:48:42]  <@mutz>	as shown on http://offsec.me/post/custom-kali-iso-multiple-changes/ in the "Overlaying files in the Kali binary" topic (i wont paste it all into IRC)
[00:48:55]  <@mutz>	the interesting thing to note there is the boot options we set:
[00:49:03]  <@mutz>	file=/cdrom/install/preseed.cfg locale=en_US keymap=us hostname=kali domain=local.lan
[00:49:37] 	tokotoko (~tokotoko@58.182.129.74) left IRC (Ping timeout: 240 seconds)
[00:50:07] 	OS-18779 (~Nick@178.128.226.86.dsl.dyn.forthnet.gr) left the channel
[00:50:10]  <@mutz>	preseed.cfg is a file we will soon introduce into the installer, which will contain all our unattended installation answers...and then we will also define locale, keymaps and domain, as part of the unattended install. For some reason these last parameters need to be given as boot arguments and cant be preseeded well.
[00:50:28]  <AceKapila>	that file install.cfg we also find in compromised host in labs ? :?
[00:51:04] 	datamoshr (~john@unaffiliated/datamoshr) left IRC (Ping timeout: 240 seconds)
[00:51:13]  <@mutz>	AceKapila , yeps, possibly. It usually contains juicy info :)
[00:51:22] 	nickmuir (~nickmuir@janus-nat-128-240-225-48.ncl.ac.uk) left IRC (Quit: Leaving)
[00:51:24] 	OS-14927 (~OS-14927@104-1-117-251.lightspeed.rcsntx.sbcglobal.net) left IRC (Quit: Colloquy for iPhone - http://colloquy.mobi)
[00:51:34]  <@mutz>	a standard preseed file for Kali can be found here kali.org/dojo/preseed.cfg
[00:51:54] 	OS-14927 (~OS-14927@104-1-117-251.lightspeed.rcsntx.sbcglobal.net) joined the channel
[00:52:01] 	OS-15317 (~OS-15317@75-168-152-206.mpls.qwest.net) left IRC (Ping timeout: 240 seconds)
[00:52:03]  <cyberkryption>	so we can add a script to run after install according to link. I assume a bash script?
[00:52:11]  <cyberkryption>	called a late command
[00:52:15]  <@mutz>	this will run a basic unattended install for a full ISO, for specific hardware profiles. Notice that some of the configs are hardcoded, such as hard drive paths (/dev/sda), etc.
[00:52:23] 	id-14495 (~OS-14495@S0106602ad095187d.vc.shawcable.net) joined the channel
[00:53:02] 	OS-20198 (~OS-20198@138.253.184.201) joined the channel
[00:53:04] 	pi_ (~pi@p5B0A053C.dip0.t-ipconnect.de) left IRC (Quit: Leaving)
[00:53:14] 	OS-18912 (~OS-18912@41.209.120.49) joined the channel
[00:53:22] 	luc__ (~luc@216.151.184.66) left IRC (Quit: Leaving)
[00:53:25] 	sheid (~sheid@213.143.48.83) left IRC (Quit: This computer has gone to sleep)
[00:53:41]  <@mutz>	this is a godo opportunity to also show you guys something... i always laugh when people tell me they "dont use kali as it runs as root"...
[00:53:54]  <@mutz>	*good*
[00:53:57]  <@mutz>	the single preseed line responsible for that is "d-i passwd/make-user boolean false"
[00:54:17] 	OS-14495 (~OS-14495@S0106602ad095187d.vc.shawcable.net) left IRC (Read error: Connection reset by peer)
[00:54:19] 	Maluko (~Maluko@203.233.108.93.rev.vodafone.pt) left IRC (Quit: Leaving)
[00:54:25] 	OS-19857 (~OS-19857@148.240.103.227) left IRC (Ping timeout: 276 seconds)
[00:54:27] 	shad (~sheid@213.143.48.83) joined the channel
[00:54:29]  <@mutz>	remove that line, and your installer will prompt for regular user creation
[00:54:30] 	dogetron (~root@c-50-186-81-194.hsd1.ut.comcast.net) left the channel
[00:54:59]  <@mutz>	so, we place that preseed file in our ISO build:
[00:55:09]  <@mutz>	wget kali.org/dojo/preseed.cfg -O ./kali-config/common/includes.installer/preseed.cfg
[00:55:26]  <@mutz>	(which downloads it into kali-config/common/includes.installer)
[00:54:59]  <@mutz>	so, we place that preseed file in our ISO build:
[00:55:09]  <@mutz>	wget kali.org/dojo/preseed.cfg -O ./kali-config/common/includes.installer/preseed.cfg
[00:55:26]  <@mutz>	(which downloads it into kali-config/common/includes.installer)
[00:55:55]  <@mutz>	and then we can use another cool feature in preseed files called "late_command". It allows us to run commands once the installation is done.
[00:56:09]  <@mutz>	so, in my example, i did a:
[00:56:11]  <@mutz>	echo "d-i preseed/late_command string in-target systemctl enable apache2" >> ./kali-config/common/includes.installer/preseed.cfg
[00:56:16]  <tillo>	Cant's we use the variant method to avoid overwriting the existing preseed.cfg?
00:56:28]  <@mutz>	which simply starts apache at boot time, but only after the iso has (self) installed.
[00:56:43] 	IceQUICK (~icequick@gateway/vpn/privateinternetaccess/icequick) joined the channel
[00:56:55] 	m1dn8 (~m1dn8@adsl196-198-156-217-196.adsl196-13.iam.net.ma) joined the channel
[00:56:56] 	m1dn8 (~m1dn8@adsl196-198-156-217-196.adsl196-13.iam.net.ma) left IRC (Client Quit)
[00:57:08]  <@mutz>	tillo , no. The existing preseed.cfg is not found in the live-build config. You can check for it yourself. The initial preseed.cfg is actually embedded in the debian-installer package.
[00:57:19]  <tillo>	Ok, thanks.
[00:57:35]  <cyberkryption>	you we must pull down the kali preseed.cfg?
[00:57:37]  <@mutz>	tillo , so this essentially over-rides the default one in delian-installer
[00:57:50]  <@mutz>	cyberkryption , not sure what you mean ?
[00:57:53] 	undefinederror (~user@2001:984:566f:1:cd63:fe9a:553e:18dc) joined the channel
[00:58:02] 	BillyO (~OS-13005@2.sub-70-209-28.myvzw.com) left IRC (Quit: Leaving)
[00:58:07] 	m1dn8 (~m1dn8@adsl196-198-156-217-196.adsl196-13.iam.net.ma) joined the channel
[00:58:10] 	LeeBob_ (~leebob@wsip-68-99-79-6.tu.ok.cox.net) joined the channel
[00:58:13]  <cyberkryption>	 wget kali.org/dojo/preseed.cfg -O ./kali-config/common/includes.installer/preseed.cfg to overide debian default
[00:58:13]  <OS7943>	you must to enable auto-installation
[00:58:21]  <krav>	cyberkryption: you can write your own. though the debian docs are kinda confusing and don't really explain well.
[00:58:36]  <@mutz>	cyberkryption , i do that because one of my goals was an unattended installation...yes?
[00:59:04]  <@mutz>	Ok, almost done! Now i want to add a custom Deb into my ISO.
[00:59:17] 	blacksheepwall (~akloster@45.55.59.202) joined the channel
[00:59:32] 	blacksheepwall (~akloster@45.55.59.202) left the channel
[00:59:41]  <@mutz>	earlier today, someone in #kali-linux asked how they could get openssl with sslv2 and sslv3 support.... and then they figured out they could rebuild the package.
[00:59:49] 	AxonDystopia (~axonmaven@138.75.164.244) left IRC (Quit: Leaving)
[00:59:54]  <@mutz>	lets see if i can find it:
[01:00:08]  <@mutz>	<RAMS>    crash: yep, I know it is not Kali issue. ended up uncommenting deb-src from sources.list  ... apt-get update; apt-get build-dep openssl; apt-get source openssl; cd openssl-1.0.2g   ... edit debian/rules, remove no-ssl2 nossl3 no-ssl3-method from CONFARGS on line 29 ... dpkg-buildpackage; cd ..; dpkg -i openssl_1.0.2g-1_amd64.deb; dpkg -i libssl1.0.2_1.0.2g-1_amd64.deb
[01:01:04] 	LeeBob (~leebob@156.110.24.18) left IRC (Ping timeout: 264 seconds)
[01:01:05]  <@mutz>	so, this guy created his own Deb file, manually. If he wanted he could have it included in a custom iso too, but using the following method.
[01:01:16]  <@mutz>	*by*
[01:01:34]  <@mutz>	In our case, we wanted to have Nessus included in the ISO, and have it self installed
[01:02:05]  <@mutz>	So, i went ahead and downlaoded the Nessus deb file, and dropped it in the kali-config/common/packages.chroot directory
[01:02:11]  <@mutz>	notice - kali-config/common/packages.chroot
[01:02:26]  <@mutz>	for packages we want to be installed in the chroot.
[01:02:30]  <@mutz>	makes sense.
[01:02:46]  <@mutz>	unfortunately, it didn't work for me... and it took me a while to figure out why...
[01:03:14] 	MechanicalPirate (~Mechanica@unaffiliated/mechanicalpirate) left IRC (Ping timeout: 260 seconds)
[01:03:17] 	Zipkoppie (~textual@unaffiliated/zipkoppie) left IRC (Quit: Textual IRC Client: www.textualapp.com)
[01:03:26]  <@mutz>	The Nessus package in its current state is built and named incorrectly (according to Debian standards)
[01:03:33]  <OS-18912>	hi guys i hope i didn't miss the event
[01:03:43]  <jedeinhart>	How would I go about adding a custom repo (along with enabling apt-secure for said repo) to lb config? where do we put the mirror bootstrap url and repo key?
[01:03:48]  <@mutz>	so i had to fix the package name, and rename it according to the {package-name}_{version}_{architecture}.deb convention.
[01:04:04]  <@mutz>	jedeinhart , ask that in the end.
[01:04:09]  <jedeinhart>	ok
[01:04:23]  <klimt>	wow mutz
[01:04:39]  <@mutz>	So, http://offsec.me/post/custom-kali-iso-multiple-changes/ under "Custom Debian package inclusion into the ISO" describes the commands i needed to rebuild the deb package....
[01:04:54]  <@mutz>	and once the fixed package was dropped into kali-config/common/packages.chroot, everything worked as expected.
[01:05:03] 	sm0x (6dbeb8b7@gateway/web/cgi-irc/kiwiirc.com/ip.109.190.184.183) left IRC (Quit: http://www.kiwiirc.com/ - A hand crafted IRC client)
[01:05:28] 	jpg- (~jpg@unaffiliated/jpg-) joined the channel
[01:05:37]  <@mutz>	Now that we have all our changes... all that's left to do is roll our iso!
[01:05:37] 	OS-19740 (~OpenFerre@68.39-255-62.static.virginmediabusiness.co.uk) left IRC (Quit: Leaving)
[01:05:46]  <@mutz>	./build.sh --distribution kali-rolling --verbose ....
[01:06:00]  <@mutz>	and since i'm already on a 64 bit OS, a 64bit ISO will be built.
[01:06:01]  <Swappage>	mutz: is it possible to import also custom repositories in /etc/apt/sources.list.d i guess? with overlays?
[01:06:06] 	menesesh (~menesesh@186.75.161.131) joined the channel
[01:07:11]  <@mutz>	Swappage , jedeinhart yes, it's also possible to overlay repos, you can check our Kali linux recipes github repo for examples (i tried including every single option in those demos) : https://github.com/offensive-security/kali-linux-recipes/blob/master/kali-linux-mate-top10-nonroot.sh
[01:07:13] 	root-boy (~root-boy@unaffiliated/root-boy) left IRC (Ping timeout: 252 seconds)
[01:07:20] 	nahmean (ade23806@gateway/web/freenode/ip.173.226.56.6) left IRC (Quit: Page closed)
[01:07:33] 	OS-20198 (~OS-20198@138.253.184.201) left IRC (Quit: Leaving)
[01:07:38]  <Swappage>	thanks very much
[01:07:47] 	SallySlums (~Taibo@199.136.70.11) left IRC (Read error: Connection reset by peer)
[01:07:48]  <@mutz>	Swappage jedeinhart , in that case, "MATE" was still not part of the Kali repos, so i ran a:
[01:07:54]  <@mutz>	mkdir -p config/archives/
[01:07:55]  <@mutz>	echo "deb http://repo.mate-desktop.org/archive/1.8/debian/ wheezy main" > config/archives/mate.list.chroot
[01:07:56]  <@mutz>	wget http://mirror1.mate-desktop.org/debian/mate-archive-keyring.gpg -O config/archives/mate.key.chroot
[01:08:04] 	SallySlums (~Taibo@199.136.70.11) joined the channel
[01:08:25] 	iamlearning (ade23806@gateway/web/freenode/ip.173.226.56.6) left IRC (Quit: Page closed)
[01:08:26] 	p0int3r (~OS-17838@39.32.77.51) left IRC (Quit: Leaving)
[01:08:37]  <jedeinhart>	mutz: but there you are passing --allow-unauthenticated so it is not checking the gpg keys?
[01:08:40]  <@mutz>	which would translate to a : mkdir -p kali-config/archives
[01:09:18] 	OS-19857 (~OS-19857@148.240.103.227) joined the channel
[01:09:19]  <Swappage>	iso is cooking
[01:09:32] 	OS-15326 (~OS-15326@bzq-109-65-23-198.red.bezeqint.net) left IRC (Quit: Leaving)
[01:09:58]  <@mutz>	jedeinhart , experiment with it, i committed that 2 years ago.
[01:10:08]  <ins1der>	guys I have to goo... see you
[01:10:24]  <id-14495>	later ins1der =)
[01:10:33]  <@mutz>	So, hopefully your ISOs are cooking now. Depending on your package lists, this could take a while.
[01:10:44] 	ins1der (~ins1der@213.215.130.13) left IRC (Quit: Leaving)
[01:10:48] 	mthor (18145b2b@gateway/web/freenode/ip.24.20.91.43) joined the channel
[01:10:59]  <@mutz>	If you have questions, now is a good time!
[01:11:13]  <Swappage>	about ethernet interfaces names...
[01:11:15]  <cyberkryption>	muts: any objection to a paste bin of the chat window for everyone at some point
[01:11:49]  <@mutz>	Swappage , i'll start with you.
[01:11:56]  <Swappage>	when i first tried building a custom iso i had an issue with the networking configuration in /etc/network/interfaces as it would use an exotic name..
[01:11:59]  <tillo>	Do you have any good resource for live-build, about default paths and less known features?
[01:11:59]  <@mutz>	Swappage, actually, that's a great question...
[01:12:00]  <Swappage>	mutz: <3
[01:12:02]  <HarveyVega>	I must have missed a critical step.
[01:12:51] 	XushiXII (~OS-20571@66-168-177-15.dhcp.clmb.ga.charter.com) joined the channel
[01:13:01]  <@mutz>	Swappage , since Debian Jessie, network interface names have changed to their new format
[01:13:14]  <@mutz>	which is called....
[01:13:18]  <klimt>	i cannot build the image, ?I receive this: "ERROR: You need live-build (>= 1:20151215kali1), you have        "
[01:13:25] 	menesesh (~menesesh@186.75.161.131) left IRC (Remote host closed the connection)
[01:13:27]  <XushiXII>	any reason why my SLmail server isnt working even after stoping and restarting it?
[01:13:30] 	ype (~ype@217.72.116.170) left IRC (Ping timeout: 246 seconds)
[01:13:44]  <XushiXII>	its not even showing up in my immunity debugger
[01:13:46]  <jedeinhart>	lol XushiXII
[01:13:48]  <tillo>	klimt: apt-get install live-build
[01:14:05] 	menesesh (~menesesh@186.75.161.131) joined the channel
[01:14:07]  <XushiXII>	lol, am i being dumb here.. what am i missing?
[01:14:08]  <@mutz>	Dang, i forget what the new naming convention is called.
[01:14:09] 	undefinederror (~user@2001:984:566f:1:cd63:fe9a:553e:18dc) left IRC (Quit: Leaving)
[01:14:12] 	CheckDavid (uid14990@gateway/web/irccloud.com/x-inkxrbwwcflotktc) joined the channel
[01:14:13]  <cyberkryption>	have to go thankx muts
[01:14:18] 	cyberkryption (~cyberkryp@46.31.243.213) left IRC (Quit: Leaving)
[01:14:19]  <@mutz>	cyberkryption , welcome!
[01:14:19]  <klimt>	thanks tillo
[01:14:23]  <Swappage>	mutz: something like predictable names whatever :)
[01:14:27]  <@mutz>	Yes!
[01:14:42]  <@mutz>	https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames/
[01:14:50]  <klimt>	building now..
[01:14:58]  <OS7943>	thanks, mutz!
[01:15:00]  <OS7943>	Very helpful
[01:15:07]  <manyskins>	mutz:  very cool - thanks for doing this!
[01:15:13]  <@mutz>	i didn't want to have this implemented directly in Kali rolling, so we delayed in introduction of these for a while.
[01:15:14]  <zenfoos>	 nice website.  thx
[01:15:19]  <stewpidh1ck>	Thanks for doing this Dojo. We have learned a lot. I have an off topic question... Well, maybe not so off topic. I recently swapped my Moto X to a Nexus 6P. Is there a way to build custom Nethunter images? Perhaps one that I could test with the 6P?
[01:15:21] 	hland2 (~hland4@53.79-161-61.customer.lyse.net) joined the channel
[01:15:25]  <MrZeeMan>	cheers mutz for your time
[01:15:26]  <@mutz>	Swappage , we do this in kali-hacks.chroot
[01:15:31]  <jotamjr>	mutz: consisting network device naming?
[01:15:34] 	jpg- (~jpg@unaffiliated/jpg-) left IRC (Ping timeout: 240 seconds)
[01:15:42] 	sibios (~sibios@unaffiliated/sibios) left IRC (Quit: leaving)
[01:15:44]  <jotamjr>	*consistent
[01:15:45]  <chucksea>	build.sh --arch includes ARM. Use these steps to build ARM image?
[01:16:13]  <OS-10274>	although it's an unattended install, could you prompt the installer to accept a dhcp assigned address or give them the ability to enter a static IP and if so, where in the process would you do that?
[01:16:15] 	brian_ (uid154182@gateway/web/irccloud.com/x-mrwkmbkhurdfvxuu) joined the channel
[01:16:25] 	HarveyVega (~HarveyVeg@2600:1008:b14f:1902:b5cc:2ed8:172b:7edd) left IRC (Ping timeout: 240 seconds)
[01:16:26]  <@mutz>	chucksea , yes, although admittedly i usually use our arm scripts to build arm images.
[01:16:28]  <Swappage>	mutz: mhmh.. let's see if i can dig into it as the iso is cooking
[01:16:32]  <chucksea>	Thx!
[01:16:34] 	dafthack (~dafthack@unaffiliated/dafthack) left IRC (Ping timeout: 240 seconds)
[01:16:45] 	brian_ (uid154182@gateway/web/irccloud.com/x-mrwkmbkhurdfvxuu) left IRC (Client Quit)
[01:16:49]  <@mutz>	OS-10274 , yes, you would simply remove the "automatic networking" option in the rpeseed file.
[01:16:54] 	brian_ (uid154182@gateway/web/irccloud.com/x-osigteuocwgvivvn) joined the channel
[01:17:00] 	dafthack (~dafthack@unaffiliated/dafthack) joined the channel
[01:17:07]  <OS-10274>	gotcha, thanks
[01:17:19] 	HK2 (~OS-20172@175.156.34.133) left IRC (Quit: Leaving)
[01:17:19] 	HarveyVega (~HarveyVeg@2600:1008:b14f:1902:b5cc:2ed8:172b:7edd) joined the channel
[01:17:32] 	mossytrees (~mossytree@pool-100-0-185-193.bstnma.fios.verizon.net) joined the channel
[01:17:33] 	mossytrees (~mossytree@pool-100-0-185-193.bstnma.fios.verizon.net) left IRC (Changing host)
[01:17:33] 	mossytrees (~mossytree@unaffiliated/mossytrees) joined the channel
[01:17:33] 	Secret-Fire (~Secret-Fi@2601:1c1:4000:c326::f1cd) left IRC (Remote host closed the connection)
[01:17:43]  <HarveyVega>	I'm back
[01:17:56] 	shad (~sheid@213.143.48.83) left IRC (Quit: Leaving)
[01:18:01]  <@mutz>	who's question did i miss ?
[01:18:05]  <l3g3ndary>	this was very information mutz! Cheers!
[01:18:06]  <OS-20611>	why was the name Kali used?
[01:18:13]  <OS-20611>	just curious